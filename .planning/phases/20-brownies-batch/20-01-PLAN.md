---
phase: 20-brownies-batch
plan: 01
type: execute
---

<objective>
Scrape all 21 brownie recipes from Broma Bakery brownies category.

Purpose: Collect recipe data (ingredients, instructions, yield) for JSON generation.
Output: brownies-index.md with full recipe list, brownies-batch-1.md and brownies-batch-2.md with scraped recipe data.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-phase.md
./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-scraping-infrastructure/INGREDIENT-MAP.md
@.planning/phases/19-muffins-batch/19-01-SUMMARY.md

**Pattern established in Phases 17-19:**
- WebFetch to category page for recipe list (or web search fallback if dynamic loading)
- Create index file with all recipe URLs
- Scrape in batches of 10-11 recipes per batch file
- Extract: title, yield, prep/cook time, ingredients, instructions, URL

**Target:** Broma Bakery Brownies category (expected 21 recipes per roadmap)
**Subcategory:** "Broma/Brownies"
**Category URL:** https://bromabakery.com/category/recipes/desserts/brownies/

**Dynamic page handling:** If category page loads recipe cards via JavaScript (like muffins), use web search with `site:bromabakery.com brownie` as fallback to discover recipe URLs.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create brownies category index</name>
  <files>.planning/phases/20-brownies-batch/brownies-index.md</files>
  <action>
    WebFetch https://bromabakery.com/category/recipes/desserts/brownies/ to get list of brownie recipes.

    If category page doesn't show recipe links (dynamic JS loading), use WebSearch with `site:bromabakery.com brownie recipe` to discover all brownie recipe URLs.

    Create brownies-index.md with:
    - Recipe count
    - Numbered list of all recipes with URLs
    - Note any pagination if more than one page

    Follow same format as muffins-index.md from Phase 19.
  </action>
  <verify>brownies-index.md exists with recipe list and URLs</verify>
  <done>Index file created with all brownie recipe URLs documented</done>
</task>

<task type="auto">
  <name>Task 2: Scrape brownies batch 1 (recipes 1-11)</name>
  <files>.planning/phases/20-brownies-batch/brownies-batch-1.md</files>
  <action>
    WebFetch first 11 recipes from brownies-index.md.

    For each recipe, extract:
    - Title
    - Yield (makes/serves)
    - Prep time, Cook time
    - Full ingredient list with quantities
    - Full instructions
    - Original URL
    - og:image URL (for later image upload)

    Format as markdown with clear sections per recipe.
    Use parallel WebFetch calls for efficiency.
  </action>
  <verify>brownies-batch-1.md exists with 11 complete recipes</verify>
  <done>First batch scraped with all recipe data captured</done>
</task>

<task type="auto">
  <name>Task 3: Scrape brownies batch 2 (recipes 12-21)</name>
  <files>.planning/phases/20-brownies-batch/brownies-batch-2.md</files>
  <action>
    WebFetch remaining recipes from brownies-index.md (recipes 12-21 or however many remain).

    Same extraction format as batch 1:
    - Title, Yield, Times
    - Ingredients, Instructions, URL
    - og:image URL

    If fewer than 10 recipes remain, adjust batch accordingly.
  </action>
  <verify>brownies-batch-2.md exists with remaining recipes</verify>
  <done>All brownie recipes scraped and documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] brownies-index.md has complete recipe list with URLs
- [ ] brownies-batch-1.md has first batch of recipes with full data
- [ ] brownies-batch-2.md has remaining recipes with full data
- [ ] All recipes have: title, yield, ingredients, instructions, URL
</verification>

<success_criteria>
- All tasks completed
- All brownie recipes from Broma Bakery scraped (~21)
- Recipe data is complete (no missing ingredients or instructions)
- Files ready for JSON generation in 20-02
</success_criteria>

<output>
After completion, create `.planning/phases/20-brownies-batch/20-01-SUMMARY.md` following summary template.
</output>
