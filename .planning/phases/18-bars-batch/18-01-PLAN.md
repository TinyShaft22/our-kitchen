---
phase: 18-bars-batch
plan: 01
type: execute
---

<objective>
Scrape all 25 bar recipes from Broma Bakery bars category.

Purpose: Collect recipe data (ingredients, instructions, yield) for JSON generation.
Output: bars-index.md with full recipe list, bars-batch-1.md and bars-batch-2.md with scraped recipe data.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-phase.md
./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-scraping-infrastructure/INGREDIENT-MAP.md
@.planning/phases/17-cookies-batch/17-01-SUMMARY.md

**Pattern established in Phase 17:**
- WebFetch to category page for recipe list
- Create index file with all recipe URLs
- Scrape in batches of 9-10 recipes per batch file
- Extract: title, yield, prep/cook time, ingredients, instructions, URL

**Target:** Broma Bakery Bars category (expected 25 recipes per roadmap)
**Subcategory:** "Broma/Bars"
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create bars category index</name>
  <files>.planning/phases/18-bars-batch/bars-index.md</files>
  <action>
    WebFetch https://bromabakery.com/category/recipes/desserts/bars/ to get list of bar recipes.

    Create bars-index.md with:
    - Recipe count
    - Numbered list of all recipes with URLs
    - Note any pagination if more than one page

    Follow same format as cookies-index.md from Phase 17.
  </action>
  <verify>bars-index.md exists with recipe list and URLs</verify>
  <done>Index file created with all bar recipe URLs documented</done>
</task>

<task type="auto">
  <name>Task 2: Scrape bars batch 1 (recipes 1-12)</name>
  <files>.planning/phases/18-bars-batch/bars-batch-1.md</files>
  <action>
    WebFetch first 12 recipes from bars-index.md (or fewer if category has less).

    For each recipe, extract:
    - Title
    - Yield (makes/serves)
    - Prep time, Cook time
    - Full ingredient list with quantities
    - Full instructions
    - Original URL

    Format as markdown with clear sections per recipe.
    Use parallel WebFetch calls for efficiency.
  </action>
  <verify>bars-batch-1.md exists with 12 (or appropriate number) complete recipes</verify>
  <done>First batch scraped with all recipe data captured</done>
</task>

<task type="auto">
  <name>Task 3: Scrape bars batch 2 (remaining recipes)</name>
  <files>.planning/phases/18-bars-batch/bars-batch-2.md</files>
  <action>
    WebFetch remaining recipes from bars-index.md (recipes 13-25 or however many remain).

    Same extraction format as batch 1:
    - Title, Yield, Times
    - Ingredients, Instructions, URL

    If fewer than 13 recipes remain, adjust batch accordingly.
  </action>
  <verify>bars-batch-2.md exists with remaining recipes</verify>
  <done>All bar recipes scraped and documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] bars-index.md has complete recipe list with URLs
- [ ] bars-batch-1.md has first batch of recipes with full data
- [ ] bars-batch-2.md has remaining recipes with full data
- [ ] All recipes have: title, yield, ingredients, instructions, URL
</verification>

<success_criteria>
- All tasks completed
- All bar recipes from Broma Bakery scraped
- Recipe data is complete (no missing ingredients or instructions)
- Files ready for JSON generation in 18-02
</success_criteria>

<output>
After completion, create `.planning/phases/18-bars-batch/18-01-SUMMARY.md` following summary template.
</output>
