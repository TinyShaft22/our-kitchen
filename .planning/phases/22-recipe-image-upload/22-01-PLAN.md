---
phase: 22-recipe-image-upload
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 21 muffin recipes have images displayed"
    - "All 21 brownie recipes have images displayed"
    - "Images are stored in Firebase Storage"
    - "Images display as thumbnails on recipe cards"
  artifacts:
    - path: "Firebase Storage"
      provides: "42 recipe images (21 muffins + 21 brownies)"
    - path: "Firestore meals collection"
      provides: "imageUrl field populated for 42 recipes"
  key_links:
    - from: "Recipe card component"
      to: "Firebase Storage URL"
      via: "imageUrl field in meal document"
      pattern: "imageUrl.*firebasestorage"
---

<objective>
Upload images from Broma Bakery to imported muffin and brownie recipes using Claude-in-Chrome browser automation.

Purpose: Complete v1.3 Broma Bakery Import milestone by adding recipe images to the 42 imported muffin and brownie recipes.

Output: All 42 recipes (21 muffins + 21 brownies) have images uploaded to Firebase Storage and displayed in the app.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-muffins-batch/muffins-images.json
@.planning/phases/20-brownies-batch/brownies-images.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PowerShell Handoff Script</name>
  <files>.planning/phases/22-recipe-image-upload/image-upload-handoff.md</files>
  <action>
Create a markdown file containing the complete PowerShell handoff prompt for the user to run in a PowerShell claude session. The handoff must include:

1. Full instructions for the user on how to run the handoff
2. The complete prompt to paste into PowerShell claude, which includes:
   - Navigate to the Our Kitchen app (localhost:5173 - user must have dev server running)
   - Authenticate if needed (use existing household code)
   - For each of the 21 muffin recipes:
     - Navigate to Baking > Broma > Muffins
     - Find the recipe by name
     - Click to edit the recipe
     - Download the image from the imageUrl (using fetch or the browser's download capability)
     - Upload the downloaded image to the meal's photo field
     - Save the recipe
   - Repeat for the 21 brownie recipes in Baking > Broma > Brownies

Include the full recipe lists with image URLs inline in the prompt:

**Muffins (21 recipes):**
1. Anything But Basic Muffins - https://bromabakery.com/wp-content/uploads/2018/06/Anything-But-Basic-Muffin-Recipe.jpg
2. Fluffy Chocolate Chip Muffins - https://bromabakery.com/wp-content/uploads/2022/01/Chocolate-Chip-Muffins-4.jpg
3. The Best Blueberry Muffins EVER - https://bromabakery.com/wp-content/uploads/2020/03/Blueberry-Muffins-2.jpg
4. Pumpkin Streusel Muffins - https://bromabakery.com/wp-content/uploads/2022/09/Pumpkin-Streusel-Muffins-4.jpg
5. Blueberry Streusel Muffins - https://bromabakery.com/wp-content/uploads/2022/06/Blueberry-Streusel-Muffins_-3.jpg
6. Coffee Cake Muffins - https://bromabakery.com/wp-content/uploads/2021/05/Coffee-Cake-Muffins.jpg
7. Chocolate Chunk Muffins - https://bromabakery.com/wp-content/uploads/2016/01/Chocolate-Chunk-Muffins.jpg
8. Blueberry Banana Cornbread Muffins - https://bromabakery.com/wp-content/uploads/2020/08/Banana-Corn-Blueberry-Muffins-5.jpg
9. Lemon Blueberry Muffins - https://bromabakery.com/wp-content/uploads/2024/05/Lemon-Blueberry-Muffins.jpg
10. Bakery Style Blueberry Muffins - https://bromabakery.com/wp-content/uploads/2015/02/BluebMuffins3-scaled.jpg
11. Healthy Blueberry Bran Muffins - https://bromabakery.com/wp-content/uploads/2017/01/Blueberry-Bran-Muffins-2.jpg
12. Apple Crisp Muffins - https://bromabakery.com/wp-content/uploads/2016/09/Apple-Crisp-Muffins-4.jpg
13. Apple Crumble Muffins - https://bromabakery.com/wp-content/uploads/2022/09/Apple-Crumble-Muffins-5.jpg
14. Apple Carrot Muffins - https://bromabakery.com/wp-content/uploads/2019/08/Apple-Carrot-Cake-Muffins-6.jpg
15. Pumpkin Chocolate Chip Muffins - https://bromabakery.com/wp-content/uploads/2018/11/Pumpkin-Chocolate-Chip-Muffins-15.jpg
16. Homemade Raisin Bran Muffins - https://bromabakery.com/wp-content/uploads/2012/03/MG_0562.jpg
17. Morning Glory Muffins - https://bromabakery.com/wp-content/uploads/2020/04/morning-glory-muffins-6.jpg
18. Healthy Peanut Butter Banana Muffins - https://bromabakery.com/wp-content/uploads/2019/10/Healthier-Peanut-Butter-Banana-Muffins-4-scaled.jpg
19. Pumpkin Carrot Cake Muffins - https://bromabakery.com/wp-content/uploads/2021/09/Pumpkin-Carrot-Cake-Muffins-3.jpg
20. Carrot Cake Muffins - https://bromabakery.com/wp-content/uploads/2023/02/Carrot-Cake-Muffins-4.jpg
21. Cinnamon Roll Muffins - https://bromabakery.com/wp-content/uploads/2022/10/Cinnamon-Roll-Muffins-6.jpg

**Brownies (21 recipes):**
1. How to Make the Best Brownies - https://bromabakery.com/wp-content/uploads/2019/05/Best-Brownies.jpg
2. Brown Butter Brownies - https://bromabakery.com/wp-content/uploads/2023/03/Browned-Butter-Brownies-2.jpg
3. Peppermint Bark Brownies - https://bromabakery.com/wp-content/uploads/2014/11/PMint-Brownies-5-scaled.jpg
4. White Chocolate Brownies - https://bromabakery.com/wp-content/uploads/2022/05/White-Chocolate-Brownies-4.jpg
5. Single Serve Fudgy Brownie - https://bromabakery.com/wp-content/uploads/2023/01/Single-Serve-Brownie-5.jpg
6. Red Wine Brownies - https://bromabakery.com/wp-content/uploads/2017/01/Red-Wine-Brownie.jpg
7. Bakery Style Whole Wheat Brownies - https://bromabakery.com/wp-content/uploads/2018/01/Bakery-Style-Fudge-Brownies-2.jpg
8. Fudgy Raspberry Brownies - https://bromabakery.com/wp-content/uploads/2023/04/Raspberry-Brownies-5.jpg
9. Salted Caramel Skillet Brownie - https://bromabakery.com/wp-content/uploads/2015/05/Salted-Caramel-Skillet-Brownie-2-scaled.jpg
10. Insanely Fudgy Peanut Butter Brownies - https://bromabakery.com/wp-content/uploads/2016/02/Peanut-Butter-Brownies.jpg
11. Fudgy Gluten Free Brownies - https://bromabakery.com/wp-content/uploads/2022/05/Gluten-Free-Brownies-4.jpg
12. Fudgy Nutella Brownies - https://bromabakery.com/wp-content/uploads/2022/02/Nutella-Brownies-2.jpg
13. Buckeye Brownies - https://bromabakery.com/wp-content/uploads/2019/12/Buckeye-Brownies-9-scaled.jpg
14. Fudgy Chocolate Brownie Pie - https://bromabakery.com/wp-content/uploads/2022/10/Chocolate-Fudge-Brownie-Pie-4.jpg
15. Triple Chocolate Brownies - https://bromabakery.com/wp-content/uploads/2014/10/Cakey-Brownies-2-scaled.jpg
16. Fudgy Mocha Brownies - https://bromabakery.com/wp-content/uploads/2025/05/Mocha-Brownies-3.jpg
17. Fudgy Oreo Brownies - https://bromabakery.com/wp-content/uploads/2020/04/oreo-brownies-5.jpg
18. The BEST Cheesecake Brownies - https://bromabakery.com/wp-content/uploads/2020/03/Cream-Cheese-Brownies-2.jpg
19. Cookie Butter Swirled Brownies - https://bromabakery.com/wp-content/uploads/2019/07/Cookie-Butter-Brownies.jpg
20. Halva Brownies - https://bromabakery.com/wp-content/uploads/2019/05/Tahini-Brownies-4.jpg
21. Espresso Brownie Sandwich Cookies - https://bromabakery.com/wp-content/uploads/2016/09/Espresso-Brownie-Sandwich-Cookies.jpg

The prompt should instruct the PowerShell Claude to:
- Use Claude-in-Chrome MCP tools to control the browser
- Download images to a temp folder before uploading (browser can't directly use URLs in file inputs)
- Report progress after each category
- Handle any errors gracefully and continue with remaining recipes
  </action>
  <verify>File exists at .planning/phases/22-recipe-image-upload/image-upload-handoff.md and contains complete instructions</verify>
  <done>Handoff script ready for user to copy and run in PowerShell</done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Execute PowerShell Handoff</name>
  <what-requires-human>
Browser automation must run in PowerShell (not WSL) due to Claude-in-Chrome MCP limitations.
  </what-requires-human>
  <instructions>
1. Ensure dev server is running: In WSL, run `npm run dev` (if not already running)
2. Open PowerShell (not WSL terminal)
3. Navigate to project: `cd "C:\Users\Nick M\Desktop\Food App Idea"`
4. Start claude: `claude`
5. Copy the entire prompt from `.planning/phases/22-recipe-image-upload/image-upload-handoff.md`
6. Paste into PowerShell claude and run
7. Wait for completion (may take 15-30 minutes for 42 recipes)
8. Note any failures reported by PowerShell claude
  </instructions>
  <resume-signal>Type "images uploaded" when PowerShell claude reports completion, or describe any issues encountered</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify Image Upload Success</name>
  <what-built>42 recipe images uploaded to muffin and brownie recipes</what-built>
  <how-to-verify>
1. Open the app at localhost:5173
2. Navigate to Baking > Broma > Muffins
3. Verify all 21 muffin recipes show thumbnail images
4. Click into 2-3 recipes to verify full images display correctly
5. Navigate to Baking > Broma > Brownies
6. Verify all 21 brownie recipes show thumbnail images
7. Click into 2-3 recipes to verify full images display correctly
8. Check Firebase Storage console to confirm images are stored
  </how-to-verify>
  <resume-signal>Type "verified" if all images display correctly, or list any recipes with missing/broken images</resume-signal>
</task>

</tasks>

<verification>
- [ ] Handoff script created with complete instructions
- [ ] PowerShell handoff executed successfully
- [ ] All 21 muffin recipes have images
- [ ] All 21 brownie recipes have images
- [ ] Images display correctly in recipe cards
- [ ] Images stored in Firebase Storage
</verification>

<success_criteria>
- 42 recipes (21 muffins + 21 brownies) have images uploaded and displaying
- Images are stored in Firebase Storage
- Recipe cards show thumbnails
- Full images visible when editing recipes
- v1.3 Broma Bakery Import milestone complete
</success_criteria>

<output>
After completion, create `.planning/phases/22-recipe-image-upload/22-01-SUMMARY.md`
</output>
