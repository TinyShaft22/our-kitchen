---
phase: 04-meal-library
plan: 01
type: execute
---

<objective>
Build the meal list UI and floating action button for the Meal Library page.

Purpose: Transform the placeholder page into a functional meal display with quick-add entry point.
Output: MealLibrary page showing meal cards in a grid, FAB button positioned for quick access.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-phase.md
./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior phase context:**
@.planning/phases/03-data-layer/03-02-SUMMARY.md

**Key files:**
@src/types/index.ts
@src/hooks/useMeals.ts
@src/hooks/useHousehold.ts
@src/pages/MealLibrary.tsx

**Tech stack available:** React, TypeScript, Tailwind CSS v4, Firebase/Firestore, useMeals hook
**Established patterns:** Hooks in src/hooks/, pages in src/pages/, components in src/components/
**Constraining decisions:**
- Phase 02-02: useHousehold provides householdCode
- Phase 03-02: useMeals provides meals array + CRUD methods
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MealCard component and wire up meal list</name>
  <files>src/components/meals/MealCard.tsx, src/pages/MealLibrary.tsx</files>
  <action>
    Create MealCard component displaying:
    - Meal name (text-lg font-semibold)
    - Servings count
    - Ingredient count (e.g., "5 ingredients")
    - Edit and Delete icon buttons (placeholder onClick for now - will wire in 04-03)

    Card styling: bg-white rounded-soft shadow-soft p-4, 44px min touch targets for buttons.

    Update MealLibrary.tsx:
    - Import and use useHousehold to get householdCode
    - Import and use useMeals(householdCode) to get meals array
    - Show loading state while loading
    - Show empty state when no meals ("No meals yet. Tap + to add one!")
    - Render meals in a grid: grid grid-cols-1 gap-4 (single column for mobile-first)
    - Pass onEdit and onDelete callbacks to MealCard (no-op functions for now)
  </action>
  <verify>npm run build succeeds, page shows meal list or empty state</verify>
  <done>MealLibrary displays meals from Firestore, shows loading/empty states, MealCard renders with all info</done>
</task>

<task type="auto">
  <name>Task 2: Add Floating Action Button component</name>
  <files>src/components/ui/FloatingActionButton.tsx, src/pages/MealLibrary.tsx</files>
  <action>
    Create FloatingActionButton component:
    - Fixed position: fixed bottom-24 right-4 (above nav bar)
    - Size: w-14 h-14 (56px, good touch target)
    - Styling: bg-terracotta text-white rounded-full shadow-lg
    - Icon: "+" text (text-2xl font-bold)
    - onClick prop for handler
    - Hover/active states for feedback

    Add FAB to MealLibrary.tsx:
    - Import FloatingActionButton
    - Add state: const [isAddModalOpen, setIsAddModalOpen] = useState(false)
    - FAB onClick opens modal (setIsAddModalOpen(true))
    - For now, just console.log when FAB clicked (modal built in 04-02)
  </action>
  <verify>npm run dev, FAB visible and positioned correctly, click logs to console</verify>
  <done>FAB displays in bottom-right, responds to tap, state ready for modal integration</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] MealLibrary page shows loading state initially
- [ ] Empty state displays when no meals exist
- [ ] Meal cards render correctly when meals exist in Firestore
- [ ] FAB is visible and positioned above navigation
- [ ] FAB click triggers state change (visible in React DevTools or console)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Meal list displays real data from useMeals hook
- FAB ready for modal integration in next plan
</success_criteria>

<output>
After completion, create `.planning/phases/04-meal-library/04-01-SUMMARY.md`
</output>
