---
phase: 24-interaction-model
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json
autonomous: true

must_haves:
  truths:
    - "Alexa recognizes 'what's for dinner' and triggers BrowseMealsIntent"
    - "Alexa recognizes 'show me cookies' and triggers BrowseCategoryIntent with Category slot"
    - "Alexa recognizes 'let's cook tacos' and triggers StartCookingIntent with MealName slot"
    - "Alexa recognizes 'show me the recipe for tacos' and triggers GetRecipeIntent with MealName slot"
  artifacts:
    - path: "our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json"
      provides: "Meal/recipe intents with slot types"
      contains: "BrowseMealsIntent"
  key_links:
    - from: "BrowseCategoryIntent"
      to: "CategoryType slot"
      via: "slot reference in intent"
      pattern: '"type": "CategoryType"'
    - from: "StartCookingIntent"
      to: "MealNameType slot"
      via: "slot reference in intent"
      pattern: '"type": "MealNameType"'
---

<objective>
Add meal and recipe intents with custom slot types to the Alexa interaction model.

Purpose: Enable voice commands for browsing meals, viewing recipes, and starting cooking mode
Output: Updated en-US.json with BrowseMealsIntent, BrowseCategoryIntent, GetRecipeIntent, StartCookingIntent, and custom slot types
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-interaction-model/24-CONTEXT.md
@.planning/phases/24-interaction-model/24-RESEARCH.md
@our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add custom slot types</name>
  <files>our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json</files>
  <action>
Add custom slot types to the interaction model's `types` array:

**MealNameType** - For meal/recipe names:
- Placeholder values for now (dynamic entities will be loaded at runtime in Phase 25)
- Include a few example values with synonyms to establish the pattern:
  - "Crispy Chicken Tacos" with synonyms ["chicken tacos", "tacos"]
  - "Chocolate Chip Cookies" with synonyms ["chip cookies", "cookies"]
  - "Spaghetti Bolognese" with synonyms ["spaghetti", "bolognese"]

**CategoryType** - For category/folder browsing:
- "Main Dishes" with synonyms ["main", "dinner", "dinners", "meals"]
- "Baking" with synonyms ["baked goods", "desserts", "sweets"]
- "Cookies" with synonyms ["cookie"]
- "Brownies" with synonyms ["brownie"]
- "Bars" with synonyms ["bar"]
- "Muffins" with synonyms ["muffin"]
- "Snacks" with synonyms ["snack"]

Note: MealNameType is a placeholder - Phase 25 will use dynamic entities to load actual meal names at runtime. CategoryType values match the app's folder structure.
  </action>
  <verify>JSON is valid (no syntax errors). `types` array contains MealNameType and CategoryType with properly formatted values.</verify>
  <done>Two custom slot types defined with placeholder/static values and synonyms</done>
</task>

<task type="auto">
  <name>Task 2: Add meal and recipe intents</name>
  <files>our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json</files>
  <action>
Add four custom intents to the interaction model's `intents` array (keep existing built-in intents):

**BrowseMealsIntent** (no slots - shows this week's planned meals):
Sample utterances (8-10 variations):
- "what's for dinner"
- "what's for dinner this week"
- "show me this week's meals"
- "what meals are planned"
- "what are we eating this week"
- "what's on the menu"
- "show me the meal plan"
- "what's planned for this week"

**BrowseCategoryIntent** (Category slot - filters by folder):
Sample utterances with {Category} slot:
- "show me {Category}"
- "what {Category} do we have"
- "list {Category} recipes"
- "find {Category}"
- "I want to see {Category}"
- "browse {Category}"
- "let me see {Category}"

**GetRecipeIntent** (MealName slot - shows recipe details):
Sample utterances with {MealName} slot:
- "show me the recipe for {MealName}"
- "what's in {MealName}"
- "how do I make {MealName}"
- "ingredients for {MealName}"
- "recipe for {MealName}"
- "what do I need for {MealName}"
- "tell me about {MealName}"

**StartCookingIntent** (MealName slot - enters cooking mode):
Per CONTEXT.md: "just start" without confirmation
Sample utterances with {MealName} slot:
- "let's cook {MealName}"
- "let's make {MealName}"
- "start cooking {MealName}"
- "cook {MealName}"
- "make {MealName}"
- "I want to make {MealName}"
- "walk me through {MealName}"
- "guide me through {MealName}"
- "time to make {MealName}"

**IMPORTANT:** Do NOT duplicate "how do I make {MealName}" - it's already in GetRecipeIntent. Keep utterances distinct between intents to avoid collision.
  </action>
  <verify>JSON is valid. All four intents exist with proper slot references and 7-10 sample utterances each. No duplicate utterances across intents.</verify>
  <done>BrowseMealsIntent, BrowseCategoryIntent, GetRecipeIntent, and StartCookingIntent added with appropriate slots and utterances</done>
</task>

<task type="auto">
  <name>Task 3: Add Yes/No intents and validate model</name>
  <files>our-kitchen-alexa/skill-package/interactionModels/custom/en-US.json</files>
  <action>
1. Add AMAZON.YesIntent and AMAZON.NoIntent to the intents array (empty samples - built-in):
```json
{
  "name": "AMAZON.YesIntent",
  "samples": []
},
{
  "name": "AMAZON.NoIntent",
  "samples": []
}
```

2. Remove HelloWorldIntent (no longer needed - was just for Phase 23 testing)

3. Validate the complete interaction model:
   - All intents have valid names (either AMAZON.* or PascalCaseIntent)
   - All custom intents have `samples` array with at least 5 utterances
   - All slots reference existing types
   - All types have `values` array with at least one value
   - No duplicate utterances across intents
   - JSON is valid

4. The final intents array should contain:
   - AMAZON.CancelIntent
   - AMAZON.HelpIntent
   - AMAZON.StopIntent
   - AMAZON.FallbackIntent
   - AMAZON.NavigateHomeIntent
   - AMAZON.YesIntent
   - AMAZON.NoIntent
   - BrowseMealsIntent
   - BrowseCategoryIntent
   - GetRecipeIntent
   - StartCookingIntent
  </action>
  <verify>JSON syntax valid. Yes/No intents present. HelloWorldIntent removed. 11 intents total (7 built-in + 4 custom). 2 custom types.</verify>
  <done>Complete meal/recipe interaction model validated and ready for deployment</done>
</task>

</tasks>

<verification>
1. Validate JSON syntax: `cat en-US.json | jq .` (must not error)
2. Count intents: Should be 11 (7 built-in + 4 custom)
3. Count types: Should be 2 (MealNameType, CategoryType)
4. Verify no HelloWorldIntent remains
5. Spot-check utterance uniqueness (no duplicates across intents)
</verification>

<success_criteria>
- en-US.json is valid JSON
- BrowseMealsIntent responds to "what's for dinner"
- BrowseCategoryIntent has Category slot of type CategoryType
- GetRecipeIntent has MealName slot of type MealNameType
- StartCookingIntent has MealName slot of type MealNameType
- AMAZON.YesIntent and AMAZON.NoIntent added
- HelloWorldIntent removed
- All utterances are unique across intents
</success_criteria>

<output>
After completion, create `.planning/phases/24-interaction-model/24-01-SUMMARY.md`
</output>
