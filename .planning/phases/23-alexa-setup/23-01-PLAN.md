---
phase: 23-alexa-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false

must_haves:
  truths:
    - "ASK CLI is installed and accessible from WSL"
    - "Amazon Developer account exists and is logged in"
    - "Alexa-Hosted Skill 'Our Kitchen' exists in Developer Console"
    - "Skill is cloned locally for development"
  artifacts:
    - path: "our-kitchen-alexa/.ask/ask-states.json"
      provides: "ASK CLI state file"
      contains: "skillId"
    - path: "our-kitchen-alexa/ask-resources.json"
      provides: "ASK resource configuration"
      contains: "runtime"
  key_links:
    - from: "ASK CLI"
      to: "Amazon Developer Console"
      via: "OAuth authentication"
      pattern: "ask util whoami"
---

<objective>
Set up the foundational requirements for Alexa skill development: Amazon Developer account, ASK CLI installation, and Alexa-Hosted Skill creation.

Purpose: This plan establishes all prerequisites before any code can be written. Without these steps, there's no skill project to develop against.

Output: A cloned Alexa-Hosted Skill project in `our-kitchen-alexa/` directory, ready for Lambda code development.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-alexa-setup/23-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install ASK CLI</name>
  <files>None (global npm install)</files>
  <action>
Install the Alexa Skills Kit CLI globally in WSL:

```bash
npm install -g ask-cli
```

Verify installation with:
```bash
ask --version
```

Expected output: Version 2.x.x
  </action>
  <verify>Run `ask --version` - should return version number (2.x.x)</verify>
  <done>ASK CLI installed globally and accessible from command line</done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Create Amazon Developer Account</name>
  <action>User must create or sign into an Amazon Developer account to proceed.</action>
  <instructions>
**If you DON'T have an Amazon Developer account:**

1. Go to https://developer.amazon.com/alexa/console/ask
2. Click "Sign In" then "Create your Amazon Developer account"
3. Use your regular Amazon account email (same as your Echo device)
4. Accept the App Distribution Agreement
5. Complete any verification steps

**If you ALREADY have an Amazon Developer account:**

1. Go to https://developer.amazon.com/alexa/console/ask
2. Sign in with your existing credentials
3. Verify you can see the Alexa Skills Kit Console
  </instructions>
  <resume-signal>Type "account ready" when you can access the Alexa Developer Console</resume-signal>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 3: Create Alexa-Hosted Skill in Developer Console</name>
  <action>User must create the skill via the web console (recommended path for Alexa-Hosted Skills).</action>
  <instructions>
**Create the "Our Kitchen" skill:**

1. Go to https://developer.amazon.com/alexa/console/ask
2. Click **"Create Skill"**
3. Configure:
   - **Skill name:** `Our Kitchen`
   - **Primary locale:** `English (US)`
   - **Choose a model:** Select **"Custom"**
   - **Choose a hosting method:** Select **"Alexa-hosted (Node.js)"**
   - **Hosting region:** `US East (N. Virginia)` (default)
4. Click **"Create skill"**
5. On the template screen, select **"Hello World Skill"** template
6. Click **"Continue with template"**
7. Wait for provisioning to complete (1-2 minutes)

**Get the Skill ID:**

Once created, look at the URL in your browser. It will look like:
```
https://developer.amazon.com/alexa/console/ask/build/custom/amzn1.ask.skill.XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/...
```

Copy the skill ID (the `amzn1.ask.skill.XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX` part).
  </instructions>
  <resume-signal>Paste the skill ID (starts with amzn1.ask.skill.)</resume-signal>
</task>

<task type="auto">
  <name>Task 4: Configure ASK CLI and Clone Skill</name>
  <files>our-kitchen-alexa/</files>
  <action>
Configure the ASK CLI to connect to the Amazon Developer account, then clone the skill locally.

**Step 1: Configure ASK CLI (WSL workaround)**

```bash
ask configure --no-browser
```

This will output a URL. The user needs to:
1. Copy the URL to a Windows browser
2. Sign in with their Amazon Developer account
3. Copy the authorization code back to the terminal

**Step 2: Verify configuration**

```bash
ask util whoami
```

Should show the logged-in Amazon account.

**Step 3: Clone the skill locally**

Using the skill ID provided by the user:

```bash
cd "/mnt/c/Users/Nick M/Desktop/Food App Idea"
ask init --hosted-skill-id {SKILL_ID_FROM_USER}
```

This creates the `our-kitchen-alexa/` directory with the cloned skill.

**Step 4: Verify clone**

```bash
ls -la our-kitchen-alexa/
```

Should show:
- `.ask/` directory
- `lambda/` directory
- `skill-package/` directory
- `ask-resources.json`

**Note:** The `ask configure` step requires user interaction to paste the auth code. Run it and wait for the user to complete the OAuth flow.
  </action>
  <verify>
1. `ask util whoami` returns account info
2. `ls our-kitchen-alexa/lambda/index.js` exists
3. `ls our-kitchen-alexa/.ask/ask-states.json` exists
  </verify>
  <done>ASK CLI configured with user's Amazon account, skill cloned to our-kitchen-alexa/ directory</done>
</task>

</tasks>

<verification>
- [ ] `ask --version` returns 2.x.x
- [ ] `ask util whoami` shows logged-in account
- [ ] `our-kitchen-alexa/` directory exists with skill files
- [ ] `our-kitchen-alexa/.ask/ask-states.json` contains skillId
- [ ] `our-kitchen-alexa/lambda/index.js` exists (from template)
</verification>

<success_criteria>
- ASK CLI installed globally in WSL
- Amazon Developer account created and authenticated
- Alexa-Hosted Skill "Our Kitchen" created in Developer Console
- Skill cloned locally to `our-kitchen-alexa/` directory
- Ready for Lambda code development in Plan 23-02
</success_criteria>

<output>
After completion, create `.planning/phases/23-alexa-setup/23-01-SUMMARY.md`
</output>
